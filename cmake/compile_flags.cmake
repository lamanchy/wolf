# define flags for build
if (UNIX)
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -pthread -Wl,--no-as-needed -ldl -static-libstdc++")
elseif (WIN32)
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /Zc:__cplusplus")
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DBOOST_DATE_TIME_NO_LIB -DBOOST_REGEX_NO_LIB")
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DCPPKAFKA_STATIC -DLIBRDKAFKA_STATICLIB")
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -D_WIN32_WINNT=0x0501")
    list(TRANSFORM CMAKE_C_FLAGS_DEBUG REPLACE /MDd /MTd)
    list(TRANSFORM CMAKE_C_FLAGS_RELEASE REPLACE /MD /MT)
    list(TRANSFORM CMAKE_CXX_FLAGS_DEBUG REPLACE /MDd /MTd)
    list(TRANSFORM CMAKE_CXX_FLAGS_RELEASE REPLACE /MD /MT)
endif ()

set(CMAKE_CXX_FLAGS ${CMAKE_CXX_FLAGS} PARENT_SCOPE)
set(CMAKE_C_FLAGS_DEBUG ${CMAKE_C_FLAGS_DEBUG} PARENT_SCOPE)
set(CMAKE_C_FLAGS_RELEASE ${CMAKE_C_FLAGS_RELEASE} PARENT_SCOPE)
set(CMAKE_CXX_FLAGS_DEBUG ${CMAKE_CXX_FLAGS_DEBUG} PARENT_SCOPE)
set(CMAKE_CXX_FLAGS_RELEASE ${CMAKE_CXX_FLAGS_RELEASE} PARENT_SCOPE)